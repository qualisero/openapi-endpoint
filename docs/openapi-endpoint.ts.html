<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Source: openapi-endpoint.ts</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css" />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Source: openapi-endpoint.ts</h1>

      <section>
        <article>
          <pre class="prettyprint source linenums"><code>import { type MaybeRefOrGetter } from 'vue'
import { EndpointQueryReturn, useEndpointQuery } from './openapi-query'
import { EndpointMutationReturn, useEndpointMutation } from './openapi-mutation'
import type { GetPathParameters, QQueryOptions, QMutationOptions, Operations, IsQueryOperation } from './types'
import { type OpenApiHelpers } from './openapi-helpers'

/**
 * Composable for performing a strictly typed OpenAPI operation (query or mutation) using Vue Query.
 * Automatically detects whether the operation is a query or mutation and delegates to the appropriate composable.
 * Returns a reactive query or mutation object with strict typing and helpers.
 *
 * @template T OperationId type representing the OpenAPI operation.
 * @param operationId The OpenAPI operation ID to execute.
 * @param pathParamsOrOptions Optional path parameters for the endpoint, can be reactive.
 * @param optionsOrNull Optional query or mutation options, including Vue Query options.
 * @returns Query or mutation object with strict typing and helpers.
 */
export function useEndpoint&lt;Ops extends Operations&lt;Ops>, Op extends keyof Ops>(
  operationId: Op,
  helpers: OpenApiHelpers&lt;Ops, Op>,
  pathParamsOrOptions?:
    | MaybeRefOrGetter&lt;GetPathParameters&lt;Ops, Op> | null | undefined>
    | (IsQueryOperation&lt;Ops, Op> extends true ? QQueryOptions&lt;Ops, Op> : QMutationOptions&lt;Ops, Op>),
  optionsOrNull?: IsQueryOperation&lt;Ops, Op> extends true ? QQueryOptions&lt;Ops, Op> : QMutationOptions&lt;Ops, Op>,
): IsQueryOperation&lt;Ops, Op> extends true ? EndpointQueryReturn&lt;Ops, Op> : EndpointMutationReturn&lt;Ops, Op> {
  type ReturnType =
    IsQueryOperation&lt;Ops, Op> extends true ? EndpointQueryReturn&lt;Ops, Op> : EndpointMutationReturn&lt;Ops, Op>

  if (helpers.isMutationOperation(operationId)) {
    return useEndpointMutation&lt;Ops, Op>(
      operationId,
      helpers,
      pathParamsOrOptions as
        | MaybeRefOrGetter&lt;GetPathParameters&lt;Ops, Op> | null | undefined>
        | QMutationOptions&lt;Ops, Op>,
      optionsOrNull as QMutationOptions&lt;Ops, Op>,
    ) as ReturnType
  } else if (helpers.isQueryOperation(operationId)) {
    return useEndpointQuery&lt;Ops, Op>(
      operationId,
      helpers,
      pathParamsOrOptions as MaybeRefOrGetter&lt;GetPathParameters&lt;Ops, Op> | null | undefined> | QQueryOptions&lt;Ops, Op>,
      optionsOrNull as QQueryOptions&lt;Ops, Op>,
    ) as ReturnType
  } else {
    throw new Error(`Operation ${String(operationId)} is neither a query nor a mutation operation`)
  }
}
</code></pre>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#_debugIsQueryOperation">_debugIsQueryOperation</a></li>
        <li><a href="global.html#queryClient">queryClient</a></li>
        <li><a href="global.html#useEndpoint">useEndpoint</a></li>
        <li><a href="global.html#useEndpointMutation">useEndpointMutation</a></li>
        <li><a href="global.html#useEndpointQuery">useEndpointQuery</a></li>
        <li><a href="global.html#useMutation">useMutation</a></li>
        <li><a href="global.html#useOpenApi">useOpenApi</a></li>
        <li><a href="global.html#useQuery">useQuery</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Sat Oct 11 2025 22:44:45
      GMT+0000 (Coordinated Universal Time)
    </footer>

    <script>
      prettyPrint()
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
